import dotenv
import sys

from msa import api, bot, cli, logger

from concurrent.futures import ThreadPoolExecutor

dotenv.load_dotenv()

MIN_PYTHON_VERSION = (3, 8, 0)
BOT_VERSION = (1, 0, 0)

executor = ThreadPoolExecutor(max_workers=2)

if sys.version_info < MIN_PYTHON_VERSION:
    logger.log(logger.LogLevel.SEVERE, 'Your python version is too old! Please use Python 3.8.0 or above!')
    sys.exit(-1)

if len(sys.argv) > 1:
    sys.exit(cli.handle_args(sys.argv[1:]))


executor.submit(api.init_api)
executor.submit(bot.init_bot)
