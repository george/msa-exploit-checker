import sys

from checker.api import checker_api
from checker.bot import checker_bot

from concurrent.futures import ThreadPoolExecutor

MIN_PYTHON_VERSION = (3, 8, 0)

API_VERSION = (1, 0, 0)
BOT_VERSION = (1, 0, 0)

executor = ThreadPoolExecutor(max_workers=2)

if sys.version_info < MIN_PYTHON_VERSION:
    print('Your python version is too old! Please use Python 3.8.0 or above!')
    sys.exit(-1)

def init_api():
    print(f'Initializing MSA exploit checker API, version {API_VERSION[0]}.{API_VERSION[1]}.{API_VERSION[2]}')

    checker_api.init_app()

def init_bot():
    print(f'Initializing MSA checker Discord bot, version {BOT_VERSION[0]}.{BOT_VERSION[1]}.{BOT_VERSION[2]}')

    checker_bot.init_bot()

executor.submit(init_bot)
executor.submit(init_api)

while True:
    continue
